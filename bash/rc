# Abort if not running interactively
[[ $- != *i* ]] && return

# source "$XDG_CONFIG_HOME/bash/exports"

source "$XDG_CONFIG_HOME/bash/completion"
source "$XDG_CONFIG_HOME/bash/aliases"
source "$XDG_CONFIG_HOME/bash/utils"
source "$XDG_CONFIG_HOME/bash/history"

# # Bash settings
# shopt -s cdspell        # Auto-corrects cd misspellings
# shopt -s cmdhist        # Save multi-line commands in history as single line
# shopt -s dotglob        # Include dotfiles in pathname expansion
# shopt -s expand_aliases # Expand aliases
# shopt -s extglob        # Enable extended pattern-matching features
# shopt -s histreedit     # Add failed commands to the bash history
# shopt -s histappend     # Append each session's history to $HISTFILE
# shopt -s histverify     # Edit a recalled history line before executing

if [[ $DISPLAY ]]; then
  shopt -s checkwinsize  # Update LINES and COLUMNS after each command
fi

# export HISTFILE="$XDG_CACHE_HOME/bash_history"
# export HISTSIZE=5000
# export HISTFILESIZE=1500000
# export HISTTIMEFORMAT='[%F %T] '
# export HISTIGNORE='pwd:jobs:ll:ls:l:fg:history:clear:exit'
# export HISTCONTROL=ignoreboth
# export VISUAL=vim
# export EDITOR="$VISUAL"
# export PAGER=less


# homebrew
eval "$($HOMEBREW_PREFIX/bin/brew shellenv)"

# Load all completions Homebrew's bash-completion@2 has prepared
if [[ -f "$HOMEBREW_PREFIX/etc/profile.d/bash_completion.sh" ]]; then
  source "$HOMEBREW_PREFIX/etc/profile.d/bash_completion.sh"
fi

# Kubernetes
complete -o default -F __start_kubectl k

# Bash prompt setup

if [[ -n $PS1 && -f "$XDG_CONFIG_HOME/bash/.bash_prompt" ]]; then
  . "$XDG_CONFIG_HOME/bash/.bash_prompt" 
	# ps1_dark_theme
  # ps1_white_theme
  ps1_blue_theme
fi

# Load directory and file colors for GNU ls
eval "$(dircolors -b ${HOME}/.config/bash/dircolors)"
